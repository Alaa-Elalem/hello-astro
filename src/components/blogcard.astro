---
import { Icon } from 'astro-icon'
import type { MarkdownInstance } from 'astro'
import type { Frontmatter } from '../config'
import Img from '../components/img.astro'
import Tags from '../components/tags.astro'

export interface Props {
  post: MarkdownInstance<Frontmatter>
}

const { post } = Astro.props as Props
---
<section class="p-4 md:w-1/2 lg:w-1/3">
  <div class="h-full border-1 border-gray-200 bg-white rounded-lg shadow-xl overflow-hidden p-2">
    <a href={post.url} class="aspect-w-3 aspect-h-2">
      <Img
        src={post.frontmatter.image}
        alt={post.frontmatter.title + ' featured image'}
        cls="relative w-full h-48 bg-white rounded-lg overflow-hidden group-hover:opacity-75 sm:h-40 object-center object-cover"
      />
      <p class="sr-only">{post.frontmatter.title}</p>
    </a>
    <div class="p-6">
      {post.frontmatter.tags ? <Tags tags={post.frontmatter.tags} /> : ''}
      <a href={post.url}>
        <h1 class="title-font text-xl font-bold text-purple-600 hover:text-pink-600 mt-2">
          {post.frontmatter.title}
        </h1>
      </a>
      <div class="flex items-center flex-wrap ">
        <span class="text-gray-500 mr-3 inline-flex items-center leading-none text-xs pr-3 py-1 border-r-2 border-pink-200">
          <Icon class="w-4 h-4 mr-1" pack="heroicons-outline" name="calendar"/>
          {post.frontmatter.date}
        </span>
        <span class="text-gray-500 inline-flex items-center leading-none text-xs">
          <Icon class="w-4 h-4 mr-1" pack="heroicons-outline" name="user-circle"/>
          {post.frontmatter.author}
        </span>
      </div>

      <p class="mt-3 italic text-sm text-gray-600">{post.frontmatter.description}</p>
    </div>
  </div>
</section>